include ../.layout.jade

doctype html
html(lang=gw.language)
	- var path = [{label:'Pillars.js Reference',url:'/pillars/docs/reference/'},{label:'procedure',url:'/pillars/docs/reference/procedure.jade'}];
	+reference-layout("Pillars.js Reference - procedure - 'make it easy!'",path)

		#title
			h1 Procedure
				em  Librería
			//a.source(href="https://github.com/bifuer/pillars/blob/master/lib/Logger.js") Source

		//- Summary
		section.summary
			h2#summary Sumario
			:marked
				La **librería procedure** permite crear paquetes de funciones o procedimientos que de tienen que ejecutar de forma secuencial, ya que probablemente tengan datos dependientes. Esta librería **evita el infierno de los callbacks** de una forma sencilla.

			:highlight(lang='javascript')
				require('procedure');

				//procedure executed sequentially 
				var func = function(id){
					console.log(id);
					this.done();
				};

				var procedure = new Procedure();
				procedure
					.add(func, "A-1")
					.add(func, "A-2")
					.add(func, "A-3")
					.add(func, "A-4")
					.add(func, "A-5")
					.launch(
						console.log("All processes have ended");
					);

			:marked
				Mediante `.add()` anadimos una **función** y los **parámetros** con los que se llamará a la función.

				Mediante `.launch()` lanzamos la cola de procesos a ejecutar de forma secuencial.





			.msg.msg-icon.bg-info Estamos completando la referencia. ¡Disculpa las molestias!. Síguenos en las redes sociales para estar al tanto de las actualizaciones en la documentación. 

	
	//
		//- Syntax
		section.syntax
			h2#syntax Constructor
			codesyntax.
				logger.info();

			:marked
				Lorem ipsum

			:highlight(lang='javascript')
				// Creación más básica de un objeto route. 
				// Al omitir el objeto de configuración se establecen los valores por defecto

				route = new Route(function(gw){
					gw.send("Hola Mundo");
				});



		//- Description
		section.description
			h2#description Descripción
			:marked
				Lorem ipsum
			
						
		//- Properties
		section.properties
			h2#properties Propiedades
		

			//- Property
			section.property
				h3#property-pathRegex: code
					small Route.prototype
					| .pathRegex

				//- Property description
				section.description
					:marked
						Propiedad de **sólo lectura** que contiene la expresión regular de la propiedad `path`. Si modificamos `path`, `pathRegex` se actualiza automáticamente.

		//- Methods
		section.methods
			h2#methods Métodos

			//- Method			
			section.method
				h3#method-removeRoute: code
					small Route.prototype
					| .removeRoute()

				//- Method description
				section.description
					:marked
						Dado el identificador de un objeto route hijo, elimina el objeto hijo.

				//- Method syntax
				section.syntax
					h4 Sintaxis
					codesyntax.
						.removeRoute( route identificator );

					:marked
						+ *route identificator*: **String** identificador del objeto route.

				section.example
					h4 Ejemplo
					:highlight(lang='javascript')
						var web = home.removeRoute('web');	
						// Dejaría de estar disponible las funcionalidades en /web



		//- Eventos
		section.events
			h2#events Eventos

			section.event
				h3#event-idUpdate: code
					| idUpdate

				:marked
					 Evento que se emite cuando el id del route es actualizado.

				:highlight(lang='javascript')
					//Creación del route
					route = new Route(function(gw){
						gw.send("Message");
					});

					//Capturar el evento
					route.on('idUpdate', function(){
						console.log("Evento idUpdate capturado");
					});

					route.id = "home";

					/*Imprime: 
						Evento idUpdate capturado
					*/